{% extends 'index.html' %}
{% block title %}markdown{% endblock %}
{% block head %}{{ pagedown.include_pagedown() }}
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tokenfield/0.12.0/css/bootstrap-tokenfield.min.css">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/editblog.css') }}">
    <script type="text/javascript" src="../static/js/bootstrap-tokenfield.js"></script>
    <script type="text/javascript"
            src="https://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.js"></script>
{% endblock %}
{% block main %}
    <div class="main">
        <form action="" method="post" class="form" role="form">
            {{ form.hidden_tag() }}
            <div class="form-group  required">
                {{ form.title(id="title", class="form-control" , placeholder=form.title.label.text) }}
            </div>
            <div class="form-group">
                <div class="row">
                    {% if nav_category %}
                        <div class="col-md-6">
                            {{ form.category(type="text", class="form-control") }}
                        </div>
                    {% endif %}
                    <div class="col-md-6">
                        {{ form.tags(type="text", class="typeahead form-control", id="tokenfield-typeahead" , placeholder=form.tags.label.text) }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-md-6" id="text2">
                        {{ form.content(rows=20,only_input=True, class="form-control",type="text", placeholder=form.content.label.text) }}
                    </div>
                    <div class="col-md-6"  id="text1">
                        {{ form.content(only_preview=True) }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                {{ form.submit(class="btn btn-default") }}
            </div>

        </form>
    </div>
    <script>
        var engine = new Bloodhound({
            local: [{value: 'red'}, {value: 'blue'}, {value: 'green'}, {value: 'yellow'}, {value: 'violet'}, {value: 'brown'}, {value: 'purple'}, {value: 'black'}, {value: 'white'}],
            datumTokenizer: function (d) {
                return Bloodhound.tokenizers.whitespace(d.value);
            },
            queryTokenizer: Bloodhound.tokenizers.whitespace
        });

        engine.initialize();

        $('#tokenfield-typeahead').tokenfield({
            typeahead: [null, {
                source: engine.ttAdapter(),
                displayKey: 'value'
            }]
        });
    </script>
{% endblock %}